<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>WeatherOut:City of Franklin Weather</title>
  <meta name="author" content="Caleb Stone">
  <meta name="description" content="City of Franklin Weather Website">
  <!-- external style references in the proper cascading order -->    
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Karma">  <!-- Google API font reference -->
  <link rel="stylesheet" href="styles/normalize.css">                       <!-- normalize useragent/browser defaults -->
  <link rel="stylesheet" href="styles/main-9.css">                          <!-- default styles - small/phone views -->
  <link rel="stylesheet" href="styles/medium-9.css">                        <!-- medium/tablet views -->
  <link rel="stylesheet" href="styles/large-9.css">                         <!-- large/wide/desktop views --> 
    
</head>
<body>

  <header>
    <img src="images/logo.jpg" alt="The site logo" width="100" height="100">
    <h1>WeatherOut</h1>
    <div class="subheading">WeatherOut Any Storm</div>
  </header>

  <nav>
    <button onclick="toggleNavMenu()">&#9776;</button>
    <ul>
    	<li><a href="index.html">Home</a></li>
    	<li class="active"><a href="franklin-9.html">Franklin</a></li>
    	<li><a href="#">Greenville</a></li>
    	<li><a href="#">Springfield</a></li>
    	<li><a href="stormcenter.html">Storm Center</a></li>
    	<li><a href="gallery-9.html">Gallery</a></li>
    </ul>		
  </nav>
    
  <main>
      <h2 class="weatherstorydata">Weather Summary</h2>  
    
        <figure>
            <img src="images/franklin-original.jpeg" alt="Franklin Image" srcset="images/franklin-small.jpeg 1x, images/franklin-medium.jpeg 2x, images/franklin-large.jpeg 3x">
        </figure>
      
      <section>

      </section>
      
  </main>
    
  <footer>
    <aside>
      Contact information placeholder
    </aside>
    <p class="footer-bar">&copy;2017 All Rights Reserved | Site Title | currentDate
       
  </footer>

  <script>
    
      var output = document.querySelector('section');
      
      var requestURL = 'https://byui-cit230.github.io/weather/data/towndata.json';
      var request = new XMLHttpRequest();
      request.open("GET", requestURL);
      request.responseType = 'json';
      request.send();

      request.onload = function() {
          var jsondata = request.response;
          var cities = jsondata['towns'];
          for (var i = 0; i < cities.length; i++) {
              if(i == 2) continue;
              var city = document.createElement('h3');
              city.textContent = cities[i].name + ' City';
              var motto = document.createElement('p');
              motto.textContent = '"' + cities[i].motto + '"';
              var yearfounded = document.createElement('p');
              yearfounded.textContent = 'Year Founded: ' + cities[i].yearFounded;
              var currentPopulation = document.createElement('p');
              currentPopulation.textContent = 'Current Population: ' + cities[i].currentPopulation + ' People';
              var averageRainfall = document.createElement('p');
              averageRainfall.textContent = 'Annual Rainfall: ' + cities[i].averageRainfall + ' Inches';
              output.appendChild(city);
              output.appendChild(motto);
              output.appendChild(yearfounded);
              output.appendChild(currentPopulation);
              output.appendChild(averageRainfall);
	       }
      }
      
  </script>


    
</body>
</html>